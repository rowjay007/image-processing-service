# Server Configuration
PORT=8080
ENVIRONMENT=development
GIN_MODE=debug

# Database (Supabase / Postgres)
SUPABASE_DB_URL=postgres://postgres:[PASSWORD]@db.[PROJECT-ID].supabase.co:6543/postgres?sslmode=require&default_query_exec_mode=simple_protocol
DB_MAX_CONNS=25
DB_MIN_CONNS=5
DB_MAX_CONN_LIFETIME=1h
DB_MAX_CONN_IDLE_TIME=30m

# Redis / Cache (Upstash)
UPSTASH_REDIS_HOST=[HOST].upstash.io
UPSTASH_REDIS_PORT=6379
UPSTASH_REDIS_PASSWORD=[PASSWORD]
UPSTASH_REDIS_TLS=true

# Storage (Cloudinary)
CLOUDINARY_CLOUD_NAME=[CLOUD_NAME]
CLOUDINARY_API_KEY=[API_KEY]
CLOUDINARY_API_SECRET=[API_SECRET]
CLOUDINARY_FOLDER=image-processing-service
CLOUDINARY_SECURE=true
CLOUDINARY_USE_AUTO_FORMAT=true
CLOUDINARY_USE_AUTO_QUALITY=true

# Queue (CloudAMQP / RabbitMQ)
CLOUDAMQP_URL=amqps://[USER]:[PASSWORD]@[HOST]/[VHOST]
QUEUE_NAME=image-transform-jobs
QUEUE_DURABLE=true
QUEUE_PREFETCH_COUNT=5

# Auth (JWT)
JWT_SECRET=[SECURE_RANDOM_STRING]
JWT_EXPIRY=24h
JWT_ISSUER=image-processing-service

# Application Limits
MAX_UPLOAD_SIZE=20971520 # 20MB
MAX_IMAGE_WIDTH=8000
MAX_IMAGE_HEIGHT=8000
RATE_LIMIT_UPLOADS=100
RATE_LIMIT_TRANSFORMS=500
RATE_LIMIT_WINDOW=1h
